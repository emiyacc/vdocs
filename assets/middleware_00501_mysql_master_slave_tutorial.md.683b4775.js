import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.eabe3503.js";const B=JSON.parse('{"title":"mysqlä¸»ä»æ¨¡å¼éƒ¨ç½²","description":"","frontmatter":{"title":"mysqlä¸»ä»æ¨¡å¼éƒ¨ç½²","createTime":"2024/03/19 17:22:02","updateTime":"2024/03/21 15:26:42","isPublished":true,"tags":["mysql"]},"headers":[],"relativePath":"middleware/00501_mysql_master_slave_tutorial.md","filePath":"middleware/00501_mysql_master_slave_tutorial.md"}'),p={name:"middleware/00501_mysql_master_slave_tutorial.md"},e=l(`<h2 id="ç¯å¢ƒè¯´æ˜" tabindex="-1">ç¯å¢ƒè¯´æ˜ <a class="header-anchor" href="#ç¯å¢ƒè¯´æ˜" aria-label="Permalink to &quot;ç¯å¢ƒè¯´æ˜&quot;">â€‹</a></h2><table><thead><tr><th>role</th><th>ip</th><th>version</th></tr></thead><tbody><tr><td>master</td><td>192.168.10.12</td><td>mysql-5.7.21</td></tr><tr><td>slave</td><td>192.168.10.13</td><td>mysql-5.7.21</td></tr></tbody></table><h2 id="mysqlåˆå§‹åŒ–é…ç½®" tabindex="-1">mysqlåˆå§‹åŒ–é…ç½® <a class="header-anchor" href="#mysqlåˆå§‹åŒ–é…ç½®" aria-label="Permalink to &quot;mysqlåˆå§‹åŒ–é…ç½®&quot;">â€‹</a></h2><p>æœ¬æ¬¡ç¤ºä¾‹é‡‡ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼éƒ¨ç½²ğŸ‘‰ <a href="https://downloads.mysql.com/archives/community/" target="_blank" rel="noreferrer">å®˜ç½‘ä¸‹è½½åœ°å€</a></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># wget https://cdn.mysql.com/archives/mysql-5.7/mysql-5.7.21-linux-glibc2.12-x86_64.tar.gz</span></span>
<span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/sbin/nologin</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/workspace/mysql/{data,logs,temp}</span></span>
<span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql.mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-R</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/workspace/mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-zxvf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql-5.7.21-linux-glibc2.12-x86_64.tar.gz</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/opt/</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/opt/mysql-5.7.21-linux-glibc2.12-x86_64</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/lib</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/lib/mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/include/mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/include/mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/bin/mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/bin/mysqlbinlog</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/mysqlbinlog</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/bin/mysqldump</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/mysqldump</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/mysql/support-files/mysql.server</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/etc/init.d/mysqld</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="masterèŠ‚ç‚¹é…ç½®" tabindex="-1">masterèŠ‚ç‚¹é…ç½® <a class="header-anchor" href="#masterèŠ‚ç‚¹é…ç½®" aria-label="Permalink to &quot;masterèŠ‚ç‚¹é…ç½®&quot;">â€‹</a></h2><p>step01 ä¿®æ”¹<code>/etc/my.cnf</code>, masterèŠ‚ç‚¹éœ€è¦å¼€å¯<code>binlog</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">client</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span></span>
<span class="line"><span style="color:#BABED8;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.sock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">mysqld</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># server idéœ€è¦å”¯ä¸€</span></span>
<span class="line"><span style="color:#BABED8;">server-id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span></span>
<span class="line"><span style="color:#BABED8;">user</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"><span style="color:#BABED8;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.sock</span></span>
<span class="line"><span style="color:#BABED8;">pid-file</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.pid</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">basedir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/usr/local/mysql</span></span>
<span class="line"><span style="color:#BABED8;">datadir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/data</span></span>
<span class="line"><span style="color:#BABED8;">tmpdir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/temp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">default-storage-engine</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">INNODB</span></span>
<span class="line"><span style="color:#BABED8;">log-error</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/error.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">character-set-server</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">utf8mb4</span></span>
<span class="line"><span style="color:#BABED8;">collation-server</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">utf8mb4_unicode_ci</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">max-connections</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯binglog</span></span>
<span class="line highlighted"><span style="color:#BABED8;">log-bin</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysql-bin</span></span>
<span class="line highlighted"><span style="color:#BABED8;">sync-binlog</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ã€è§¦å‘å™¨ç­‰å†…å®¹çš„åŒæ­¥åŠŸèƒ½</span></span>
<span class="line highlighted"><span style="color:#BABED8;">log-bin-trust-function-creators</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line highlighted"><span style="color:#BABED8;">binlog-format</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">ROW</span></span>
<span class="line highlighted"><span style="color:#BABED8;">max-binlog-size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">256</span><span style="color:#C3E88D;">M</span></span>
<span class="line highlighted"><span style="color:#BABED8;">expire-logs-days</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">30</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯GTIDå¤åˆ¶,å³slaveåŒæ­¥æ—¶ä¸éœ€è¦è®¾ç½®masterçš„binlogå’Œposition</span></span>
<span class="line"><span style="color:#BABED8;">gtid-mode</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">on</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è·³è¿‡ä¸€äº›å¯èƒ½å¯¼è‡´æ‰§è¡Œå‡ºé”™çš„SQLè¯­å¥</span></span>
<span class="line"><span style="color:#BABED8;">enforce-gtid-consistency</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>step02 åˆå§‹åŒ–ä¸»åº“ï¼Œå¹¶å¯åŠ¨<code>mysqld</code>æœåŠ¡</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">/usr/local/mysql/bin/mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--initialize-insecure</span></span>
<span class="line"><span style="color:#FFCB6B;">chkconfig</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span></span>
<span class="line"><span style="color:#FFCB6B;">chkconfig</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">on</span></span>
<span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>step03 è®¾ç½®<code>mysql</code>çš„<code>root</code>å¯†ç ï¼Œå¹¶åˆ›å»ºç”¨äºåŒæ­¥æ•°æ®çš„è´¦å·<code>repl</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">user</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">@</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> identified </span><span style="color:#F78C6C;">with</span><span style="color:#BABED8;"> mysql_native_password </span><span style="color:#F78C6C;">by</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">user</span><span style="color:#BABED8;"> &quot;</span><span style="color:#82AAFF;">repl</span><span style="color:#BABED8;">&quot;@</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">192.168.10.%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> identified </span><span style="color:#F78C6C;">by</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">testfind</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">grant</span><span style="color:#BABED8;"> replication slave </span><span style="color:#F78C6C;">on</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;">.</span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">to</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">repl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">@</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">192.168.10.%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">flush privileges;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="slaveèŠ‚ç‚¹é…ç½®" tabindex="-1">slaveèŠ‚ç‚¹é…ç½® <a class="header-anchor" href="#slaveèŠ‚ç‚¹é…ç½®" aria-label="Permalink to &quot;slaveèŠ‚ç‚¹é…ç½®&quot;">â€‹</a></h2><p>step01 ä¿®æ”¹<code>/etc/my.cnf</code>é…ç½®ï¼ŒslaveèŠ‚ç‚¹éœ€è¦å¼€å¯ä¸­ç»§æ—¥å¿—</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">client</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span></span>
<span class="line"><span style="color:#BABED8;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.sock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">mysqld</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># server idéœ€è¦å”¯ä¸€</span></span>
<span class="line"><span style="color:#BABED8;">server-id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span></span>
<span class="line"><span style="color:#BABED8;">user</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"><span style="color:#BABED8;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.sock</span></span>
<span class="line"><span style="color:#BABED8;">pid-file</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysqld.pid</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">basedir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/usr/local/mysql</span></span>
<span class="line"><span style="color:#BABED8;">datadir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/data</span></span>
<span class="line"><span style="color:#BABED8;">tmpdir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/temp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">default-storage-engine</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">INNODB</span></span>
<span class="line"><span style="color:#BABED8;">log-error</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/error.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">character-set-server</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">utf8mb4</span></span>
<span class="line"><span style="color:#BABED8;">collation-server</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">utf8mb4_unicode_ci</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">max-connections</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯binglog</span></span>
<span class="line"><span style="color:#BABED8;">log-bin</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/mysql-bin</span></span>
<span class="line"><span style="color:#BABED8;">sync-binlog</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ã€è§¦å‘å™¨ç­‰å†…å®¹çš„åŒæ­¥åŠŸèƒ½</span></span>
<span class="line"><span style="color:#BABED8;">log-bin-trust-function-creators</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">binlog-format</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">ROW</span></span>
<span class="line"><span style="color:#BABED8;">max-binlog-size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">256</span><span style="color:#C3E88D;">M</span></span>
<span class="line"><span style="color:#BABED8;">expire-logs-days</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">30</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯GTIDå¤åˆ¶,å³slaveåŒæ­¥æ—¶ä¸éœ€è¦è®¾ç½®masterçš„binlogå’Œposition</span></span>
<span class="line"><span style="color:#BABED8;">gtid-mode</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">on</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è·³è¿‡ä¸€äº›å¯èƒ½å¯¼è‡´æ‰§è¡Œå‡ºé”™çš„SQLè¯­å¥</span></span>
<span class="line"><span style="color:#BABED8;">enforce-gtid-consistency</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¼€å¯relay log</span></span>
<span class="line highlighted"><span style="color:#BABED8;">relay-log</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/relay-bin</span></span>
<span class="line highlighted"><span style="color:#BABED8;">relay-log-index</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/workspace/mysql/logs/relay-bin.index</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># åŒæ­¥æ‰§è¡Œè·³è¿‡ä¸€äº›é”™è¯¯ç </span></span>
<span class="line highlighted"><span style="color:#BABED8;">slave-skip-errors</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1062</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¿½ç•¥åŒæ­¥åº“</span></span>
<span class="line highlighted"><span style="color:#BABED8;">replicate-ignore-db</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span></span>
<span class="line highlighted"><span style="color:#BABED8;">replicate-ignore-db</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">information_schema</span></span>
<span class="line highlighted"><span style="color:#BABED8;">replicate-ignore-db</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">performance_schema</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>step02 åˆå§‹åŒ–ä»åº“ï¼Œå¹¶å¯åŠ¨<code>mysqld</code>æœåŠ¡</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">/usr/local/mysql/bin/mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--initialize-insecure</span></span>
<span class="line"><span style="color:#FFCB6B;">chkconfig</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span></span>
<span class="line"><span style="color:#FFCB6B;">chkconfig</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">on</span></span>
<span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysqld</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>step03 è®¾ç½®<code>mysql</code>çš„<code>root</code>å¯†ç </p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">alter</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">user</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">identified</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">with</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql_native_password</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">by</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="ä¸»ä»åŒæ­¥" tabindex="-1">ä¸»ä»åŒæ­¥ <a class="header-anchor" href="#ä¸»ä»åŒæ­¥" aria-label="Permalink to &quot;ä¸»ä»åŒæ­¥&quot;">â€‹</a></h2><h3 id="åŸºäºbinlogæ¨¡å¼åŒæ­¥" tabindex="-1">åŸºäºbinlogæ¨¡å¼åŒæ­¥ <a class="header-anchor" href="#åŸºäºbinlogæ¨¡å¼åŒæ­¥" aria-label="Permalink to &quot;åŸºäºbinlogæ¨¡å¼åŒæ­¥&quot;">â€‹</a></h3><p>åŸºäºä¼ ç»Ÿçš„äºŒè¿›åˆ¶æ—¥å¿—å¤åˆ¶åŒæ­¥æ¨¡å¼ï¼ŒåŒæ­¥æ—¶éœ€è¦çŸ¥é“æ—¥å¿—æ–‡ä»¶å’Œæ—¥å¿—çš„åç§»é‡</p><p>step01 <code>master</code>æ‰§è¡Œå‘½ä»¤è¡ŒæŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</p><p>å¯ä»¥çœ‹åˆ°ç›®å‰ä¸»åº“ä½¿ç”¨çš„<code>mysql-bin.000002</code>è¿™ä¸ªæ–‡ä»¶ï¼Œ<code>Position</code>ä¸º1013</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">show </span><span style="color:#F78C6C;">master</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">status</span><span style="color:#BABED8;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- +------------------+----------+--------------+------------------+-------------------+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- | File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- +------------------+----------+--------------+------------------+-------------------+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- | mysql-bin.000002 |     1013 |              | mysql            |                   |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- +------------------+----------+--------------+------------------+-------------------+</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>step02 <code>slave</code>èŠ‚ç‚¹ä¸Šè®¾ç½®<code>master</code>èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¹¶å¼€å¯åŒæ­¥</p><p><code>slave</code>ä¼šä»¥å®¢æˆ·ç«¯çš„å½¢å¼è¯·æ±‚<code>master</code>çš„<code>binlog</code>ï¼Œå¹¶å°†æ•°æ®å†™å…¥åˆ°<code>relay log</code>ä¹Ÿå°±æ˜¯ä¸­ç»§æ—¥å¿—ä¸­ï¼Œ<code>slave</code>ä¸­çš„çº¿ç¨‹ä¼šè‡ªåŠ¨è§£æå…¥åº“</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- è®¾ç½®masterèŠ‚ç‚¹çš„åœ°å€ã€è´¦å·ã€å¯†ç ã€ç«¯å£ã€æ—¥å¿—æ–‡ä»¶åç§°å’Œ Positionï¼Œå»ºç«‹å’Œmasterçš„è¿æ¥</span></span>
<span class="line"><span style="color:#BABED8;">change </span><span style="color:#F78C6C;">master</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">to</span><span style="color:#BABED8;"> master_host</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">192.168.10.12</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,master_user</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">repl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, master_password</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">testfind</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,master_port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span><span style="color:#BABED8;">,master_log_file</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mysql-bin.000002</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,master_log_pos</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1013</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- å¼€å¯slaveåŒæ­¥çº¿ç¨‹</span></span>
<span class="line"><span style="color:#F78C6C;">start</span><span style="color:#BABED8;"> slave;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- æŸ¥çœ‹slaveèŠ‚ç‚¹è¿æ¥çŠ¶æ€ï¼Œä¸»è¦å…³æ³¨ Slave_IO_Running å’Œ Slave_SQL_Running çš„å€¼</span></span>
<span class="line"><span style="color:#BABED8;">show slave </span><span style="color:#F78C6C;">status</span><span style="color:#BABED8;"> \\G;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- *************************** 1. row ***************************</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                Slave_IO_State: Waiting for master to send event</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_Host: 192.168.10.12</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_User: repl</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_Port: 3306</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                 Connect_Retry: 60</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--               Master_Log_File: mysql-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--           Read_Master_Log_Pos: 1013</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                Relay_Log_File: relay-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                 Relay_Log_Pos: 320</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--         Relay_Master_Log_File: mysql-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--              Slave_IO_Running: Yes</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--             Slave_SQL_Running: Yes</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                              ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="åŸºäºgtidæ¨¡å¼åŒæ­¥" tabindex="-1">åŸºäºGTIDæ¨¡å¼åŒæ­¥ <a class="header-anchor" href="#åŸºäºgtidæ¨¡å¼åŒæ­¥" aria-label="Permalink to &quot;åŸºäºGTIDæ¨¡å¼åŒæ­¥&quot;">â€‹</a></h3><p>é€šè¿‡<code>gtid</code>ä¿è¯äº†æ¯ä¸ªåœ¨ä¸»åº“ä¸Šæäº¤çš„äº‹åŠ¡åœ¨é›†ç¾¤ä¸­æœ‰ä¸€ä¸ªå”¯ä¸€çš„<code>ID</code>ã€‚è¿™ç§æ–¹å¼å¼ºåŒ–äº†æ•°æ®åº“çš„ä¸»å¤‡ä¸€è‡´æ€§ï¼Œæ•…éšœæ¢å¤ä»¥åŠå®¹é”™èƒ½åŠ›ï¼Œæ˜¯<code>mysql5.6</code>ä¹‹åä¸“é—¨ç”¨äºå¤„ç†ä»åº“å¯»ç‚¹é—®é¢˜å¼•å…¥çš„ä¸€ç§å¤åˆ¶æŠ€æœ¯ã€‚</p><p>step01 <code>slave</code>èŠ‚ç‚¹è®¾ç½®<code>master</code>èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¹¶å¼€å¯åŒæ­¥</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- è®¾ç½®masterèŠ‚ç‚¹çš„åœ°å€ã€è´¦å·ã€å¯†ç ã€ç«¯å£ï¼Œå»ºç«‹å’Œmasterçš„è¿æ¥</span></span>
<span class="line"><span style="color:#BABED8;">change </span><span style="color:#F78C6C;">master</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">to</span><span style="color:#BABED8;"> master_host</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">192.168.10.12</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,master_user</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">repl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, master_password</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">testfind</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,master_port</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3306</span><span style="color:#BABED8;">,master_auto_position</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- å¼€å¯slaveåŒæ­¥çº¿ç¨‹</span></span>
<span class="line"><span style="color:#F78C6C;">start</span><span style="color:#BABED8;"> slave;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- æŸ¥çœ‹slaveèŠ‚ç‚¹è¿æ¥çŠ¶æ€ï¼Œä¸»è¦å…³æ³¨ Slave_IO_Running å’Œ Slave_SQL_Running çš„å€¼</span></span>
<span class="line"><span style="color:#BABED8;">show slave </span><span style="color:#F78C6C;">status</span><span style="color:#BABED8;"> \\G;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- *************************** 1. row ***************************</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                Slave_IO_State: Waiting for master to send event</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_Host: 192.168.10.12</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_User: repl</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                   Master_Port: 3306</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                 Connect_Retry: 60</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--               Master_Log_File: mysql-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--           Read_Master_Log_Pos: 1013</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                Relay_Log_File: relay-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                 Relay_Log_Pos: 1226</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--         Relay_Master_Log_File: mysql-bin.000002</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--              Slave_IO_Running: Yes</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--             Slave_SQL_Running: Ye</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--                             ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="æµ‹è¯•ä¸»ä»åŒæ­¥" tabindex="-1">æµ‹è¯•ä¸»ä»åŒæ­¥ <a class="header-anchor" href="#æµ‹è¯•ä¸»ä»åŒæ­¥" aria-label="Permalink to &quot;æµ‹è¯•ä¸»ä»åŒæ­¥&quot;">â€‹</a></h2><p>step01 åœ¨<code>master</code>èŠ‚ç‚¹ä¸Šåˆ›å»ºæ•°æ®åº“ã€è¡¨å¹¶ä¸”æ’å…¥æ•°æ®</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">database</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">if</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">not</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#BABED8;"> db01;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#BABED8;"> db01;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">table</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">if</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">not</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#BABED8;"> tb01(id </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">primary key</span><span style="color:#BABED8;">, </span><span style="color:#F78C6C;">data</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">32</span><span style="color:#BABED8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#BABED8;"> tb01 </span><span style="color:#F78C6C;">values</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">),(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jerry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>step02 åœ¨<code>slave</code>èŠ‚ç‚¹ä¸ŠæŸ¥çœ‹æ˜¯å¦æœ‰æ•°æ®</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> db01.tb01;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- +----+-------+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- | id | data  |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- +----+-------+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- |  1 | tom   |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- |  2 | jerry |</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,37),o=[e];function r(c,t,i,y,D,b){return n(),a("div",null,o)}const u=s(p,[["render",r]]);export{B as __pageData,u as default};
